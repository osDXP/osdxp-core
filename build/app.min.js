"use strict";!function(r){r(function(){function c(e){e.find(".error-messages").remove(),e.find(".success-messages").remove()}function t(o,a){var c=["error","success"];Object.keys(c).forEach(function(e){var s=c[e];if(o["".concat(s,"_messages")]){var n=r('<div class="'.concat(s,'-messages">'));Object.keys(o["".concat(s,"_messages")]).forEach(function(e){n.append(r('<div class="'.concat(s,'-message">')).text(o["".concat(s,"_messages")][e]))}),a.append(n)}})}r(".js-osdxp-submit-module-license").on("click",function(e){e.preventDefault();var s=r.Event("keypress",{which:13});r(e.currentTarget).siblings(".js-osdxp-module-license").trigger(s)}),r(".js-osdxp-module-license").on("keypress",function(e){if(13===e.keyCode||13===e.which){e.preventDefault();var s=r(e.currentTarget),n=s.parents(".module-license-key"),o=s.data("module"),a=s.val();s.prop("disabled",!0),r.ajax("".concat(osDXPDashboard.restUrl,"/license/").concat(o,"/").concat(a),{beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",osDXPDashboard.restNonce)},method:"POST"}).always(function(){s.prop("disabled",!1)}).done(function(e){c(n),e.license_key_markup&&(n.append(e.license_key_markup),r(".".concat(o,"-license-error")).fadeOut(),n.find(".license-input-wrapper").addClass("hidden")),t(e,n)})}}),r(".module-license-key").on("click",".js-osdxp-module-remove-license",function(e){if(e.preventDefault(),confirm(osDXPDashboard.text.licenseKeyRemovalConfirmation)){var s=r(e.currentTarget),n=s.parents(".module-license-key"),o=s.data("module");s.prop("disabled",!0),r.ajax("".concat(osDXPDashboard.restUrl,"/license/").concat(o),{beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",osDXPDashboard.restNonce)},method:"DELETE"}).always(function(){s.prop("disabled",!1)}).done(function(e){c(n),e.success&&(s.parents(".display-license").remove(),n.find(".js-osdxp-module-license").val(null),n.find(".license-input-wrapper").removeClass("hidden"),r(".".concat(o,"-license-error")).fadeOut()),t(e,n)})}});var e=r("#dxp-actions"),s=e.closest("#dxp_actions.postbox"),n=r('label[for="dxp_actions-hide"]');e.prependTo("#dashboard-widgets").addClass("meta-box-sortables no-padding-top"),s.remove(),n.remove(),r(".dxp-dashboard #wp-admin-bar-root-default li").each(function(){r(this).addClass("current")}),r(".plugin-update-tr td").attr("colspan",4)})}(jQuery),jQuery(document).ready(function(e){e("#osdxp-module-upload-button").click(function(){e("#osdxp-module-upload-field").toggle()})});