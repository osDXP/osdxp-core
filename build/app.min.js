"use strict";!function(r){r(function(){function a(e){e.find(".error-messages").remove(),e.find(".success-messages").remove()}function t(o,c){var a=["error","success"];Object.keys(a).forEach(function(e){var n=a[e];if(o["".concat(n,"_messages")]){var s=r('<div class="'.concat(n,'-messages">'));Object.keys(o["".concat(n,"_messages")]).forEach(function(e){s.append(r('<div class="'.concat(n,'-message">')).text(o["".concat(n,"_messages")][e]))}),c.append(s)}})}r(".js-osdxp-submit-module-license").on("click",function(e){e.preventDefault();var n=r.Event("keypress",{which:13});r(e.currentTarget).siblings(".js-osdxp-module-license").trigger(n)}),r(".js-osdxp-module-license").on("keypress",function(e){if(13===e.keyCode||13===e.which){e.preventDefault();var n=r(e.currentTarget),s=n.parents(".module-license-key"),o=n.data("module"),c=n.val();n.prop("disabled",!0),r.ajax("".concat(OSDXPDashboard.restUrl,"/license/").concat(o,"/").concat(c),{beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",OSDXPDashboard.restNonce)},method:"POST"}).always(function(){n.prop("disabled",!1)}).done(function(e){a(s),e.license_key_markup&&(s.append(e.license_key_markup),r(".".concat(o,"-license-error")).fadeOut(),s.find(".license-input-wrapper").addClass("hidden")),t(e,s)})}}),r(".module-license-key").on("click",".js-osdxp-module-remove-license",function(e){if(e.preventDefault(),confirm(OSDXPDashboard.text.licenseKeyRemovalConfirmation)){var n=r(e.currentTarget),s=n.parents(".module-license-key"),o=n.data("module");n.prop("disabled",!0),r.ajax("".concat(OSDXPDashboard.restUrl,"/license/").concat(o),{beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",OSDXPDashboard.restNonce)},method:"DELETE"}).always(function(){n.prop("disabled",!1)}).done(function(e){a(s),e.success&&(n.parents(".display-license").remove(),s.find(".js-osdxp-module-license").val(null),s.find(".license-input-wrapper").removeClass("hidden"),r(".".concat(o,"-license-error")).fadeOut()),t(e,s)})}})})}(jQuery),jQuery(document).ready(function(e){e("#osdxp-module-upload-button").click(function(){e("#osdxp-module-upload-field").toggle()})});
//# sourceMappingURL=app.min.js.map
