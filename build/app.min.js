"use strict";!function(c){c(function(){c("body.index-php h1").first().text("".concat(osDXPDashboard.text.siteTitle," Dashboard")).after('<span class="subtitle dashboard-subtitle">Welcome to your osDXP dashboard!</span>');function n(e){e.find(".error-messages").remove(),e.find(".success-messages").remove()}function t(a,n){var t=["error","success"];Object.keys(t).forEach(function(e){var s,o=t[e];a["".concat(o,"_messages")]&&(s=c('<div class="'.concat(o,'-messages">')),Object.keys(a["".concat(o,"_messages")]).forEach(function(e){s.append(c('<div class="'.concat(o,'-message">')).text(a["".concat(o,"_messages")][e]))}),n.append(s))})}c(".js-osdxp-submit-module-license").on("click",function(e){e.preventDefault();var s=c.Event("keypress",{which:13});c(e.currentTarget).siblings(".js-osdxp-module-license").trigger(s)}),c(".js-osdxp-module-license").on("keypress",function(e){var s,o,a;13!==e.keyCode&&13!==e.which||(e.preventDefault(),s=c(e.currentTarget),o=s.parents(".module-license-key"),a=s.data("module"),e=s.val(),s.prop("disabled",!0),c.ajax("".concat(osDXPDashboard.restUrl,"/license/").concat(a,"/").concat(e),{beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",osDXPDashboard.restNonce)},method:"POST"}).always(function(){s.prop("disabled",!1)}).done(function(e){n(o),e.license_key_markup&&(o.append(e.license_key_markup),c(".".concat(a,"-license-error")).fadeOut(),o.find(".license-input-wrapper").addClass("hidden")),t(e,o)}))}),c(".module-license-key").on("click",".js-osdxp-module-remove-license",function(e){var s,o,a;e.preventDefault(),confirm(osDXPDashboard.text.licenseKeyRemovalConfirmation)&&(s=c(e.currentTarget),o=s.parents(".module-license-key"),a=s.data("module"),s.prop("disabled",!0),c.ajax("".concat(osDXPDashboard.restUrl,"/license/").concat(a),{beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",osDXPDashboard.restNonce)},method:"DELETE"}).always(function(){s.prop("disabled",!1)}).done(function(e){n(o),e.success&&(s.parents(".display-license").remove(),o.find(".js-osdxp-module-license").val(null),o.find(".license-input-wrapper").removeClass("hidden"),c(".".concat(a,"-license-error")).fadeOut()),t(e,o)}))});var e=c("#dxp-actions"),s=e.closest("#dxp_actions.postbox"),o=c('label[for="dxp_actions-hide"]');e.prependTo("#dashboard-widgets").addClass("meta-box-sortables no-padding-top"),s.remove(),o.remove(),c(".dxp-dashboard #wp-admin-bar-root-default li").each(function(){c(this).addClass("current")}),c(".plugin-update-tr td").attr("colspan",4)})}(jQuery),jQuery(document).ready(function(e){e("#osdxp-module-upload-button").click(function(){e("#osdxp-module-upload-field").toggle()})});