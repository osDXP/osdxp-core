"use strict";!function(c){c(function(){c("body.index-php h1").first().text("".concat(osDXPDashboard.text.siteTitle," Sales/Marketing at a Glance")).after('<span class="subtitle dashboard-subtitle">Welcome to your dashboard! Quick links to campaigns, settings and KPIs.</span>');function o(e){e.find(".error-messages").remove(),e.find(".success-messages").remove()}function t(n,o){var t=["error","success"];Object.keys(t).forEach(function(e){var s,a=t[e];n["".concat(a,"_messages")]&&(s=c('<div class="'.concat(a,'-messages">')),Object.keys(n["".concat(a,"_messages")]).forEach(function(e){s.append(c('<div class="'.concat(a,'-message">')).text(n["".concat(a,"_messages")][e]))}),o.append(s))})}c(".js-osdxp-submit-module-license").on("click",function(e){e.preventDefault();var s=c.Event("keypress",{which:13});c(e.currentTarget).siblings(".js-osdxp-module-license").trigger(s)}),c(".js-osdxp-module-license").on("keypress",function(e){var s,a,n;13!==e.keyCode&&13!==e.which||(e.preventDefault(),s=c(e.currentTarget),a=s.parents(".module-license-key"),n=s.data("module"),e=s.val(),s.prop("disabled",!0),c.ajax("".concat(osDXPDashboard.restUrl,"/license/").concat(n,"/").concat(e),{beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",osDXPDashboard.restNonce)},method:"POST"}).always(function(){s.prop("disabled",!1)}).done(function(e){o(a),e.license_key_markup&&(a.append(e.license_key_markup),c(".".concat(n,"-license-error")).fadeOut(),a.find(".license-input-wrapper").addClass("hidden")),t(e,a)}))}),c(".module-license-key").on("click",".js-osdxp-module-remove-license",function(e){var s,a,n;e.preventDefault(),confirm(osDXPDashboard.text.licenseKeyRemovalConfirmation)&&(s=c(e.currentTarget),a=s.parents(".module-license-key"),n=s.data("module"),s.prop("disabled",!0),c.ajax("".concat(osDXPDashboard.restUrl,"/license/").concat(n),{beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",osDXPDashboard.restNonce)},method:"DELETE"}).always(function(){s.prop("disabled",!1)}).done(function(e){o(a),e.success&&(s.parents(".display-license").remove(),a.find(".js-osdxp-module-license").val(null),a.find(".license-input-wrapper").removeClass("hidden"),c(".".concat(n,"-license-error")).fadeOut()),t(e,a)}))});var e=c("#dxp-actions"),s=e.closest("#dxp_actions.postbox"),a=c('label[for="dxp_actions-hide"]');e.prependTo("#dashboard-widgets").addClass("meta-box-sortables no-padding-top"),s.remove(),a.remove(),c(".dxp-dashboard #wp-admin-bar-root-default li").each(function(){c(this).addClass("current")}),c(".plugin-update-tr td").attr("colspan",4)})}(jQuery),jQuery(document).ready(function(e){e("#osdxp-module-upload-button").click(function(){e("#osdxp-module-upload-field").toggle()})});